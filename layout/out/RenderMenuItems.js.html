<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: RenderMenuItems.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: RenderMenuItems.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import { View, Text, TouchableOpacity, FlatList } from "react-native";

import styles from "../styles/MainStyle"

import { Entypo, MaterialIcons } from "@expo/vector-icons"
import Colours from "../constants/Colours";

const RenderMenuItems = ({ menuItem, orderDetails, setOrderDetails,index,navigation}

) => {
/**
 * increase the quantity by 1 when clicking the plus button
 * @param {object} orderedItem 
 */

    const addQuantity = (orderedItem) => {
        console.log("add button is clicked");

        const checkIfItemAlreadyExist = orderDetails.find((menuItem) => menuItem._id == orderedItem._id)
        //if product does not exist in the order details, increase the quantity of that product by 1 
        if (checkIfItemAlreadyExist) {
            checkIfItemAlreadyExist.quantity += 1;
            setOrderDetails([...orderDetails]);
        }
        else {
            //if product does not exist in the order details
            setOrderDetails([...orderDetails, { ...orderedItem, quantity: 1 }])
        }

    }

/**
 * decrease the quantity by 1 when clicking the minus button
 * @param {object} orderedItem 
 */

    const reduceQuantity = (orderedItem) => {
        console.log("add button is clicked");

        const checkIfItemAlreadyExist = orderDetails.find((menuItem) => menuItem._id == orderedItem._id)
        console.log(checkIfItemAlreadyExist); 
        //if product does not exist in the order details, increase the quantity of that product by 1 
        if (checkIfItemAlreadyExist) {
            console.log("if reduce Quantity");
            if (checkIfItemAlreadyExist.quantity > 0) {
                checkIfItemAlreadyExist.quantity -= 1;
                // setOrderDetails([...orderDetails]);
                setOrderDetails((orderDetails)=>orderDetails.filter(item=>item.quantity > 0));
            } 
        }    
    }

    /**
     * 
     * @param {string} ItemId 
     * @returns integer
     */
    
    const getItemQuantity = (ItemId) => {
        const result = orderDetails.find((menuItem) => menuItem._id === ItemId);
        return result ? result.quantity : 0;
    }




    return (
        &lt;View style={[styles.orderListRow, styles.rowHorizotal,{backgroundColor:(index%2===0)?"white":Colours.BeanLightGrey}]}>
            &lt;View style={styles.orderListLeftColumn}>
                &lt;Text style={styles.fontBold}>{menuItem.special?"ðŸ”¥":""}{menuItem.name}
                &lt;TouchableOpacity onPress={()=>navigation.navigate("Central",{screen:"ItemDetails",params:{menuItem}})}>&lt;Text>ðŸ“–&lt;/Text>&lt;/TouchableOpacity>
                &lt;/Text>
                &lt;Text >{menuItem.description}&lt;/Text>
                &lt;Text style={styles.fontBoldSmall}>{menuItem.price}&lt;/Text>
            &lt;/View>

            &lt;View style={styles.orderListRightColumn}>
                {menuItem.availability?(&lt;View style={styles.rowHorizotal}>
                    &lt;TouchableOpacity style={styles.minusContainer} onPress={()=>{reduceQuantity(menuItem);}}>
                        &lt;Entypo name="minus" size={23} color="#fff">&lt;/Entypo>
                    &lt;/TouchableOpacity>
                    &lt;Text style={styles.itemQuantity}>{getItemQuantity(menuItem._id)}&lt;/Text>
                    &lt;TouchableOpacity style={styles.minusContainer} onPress={() => addQuantity(menuItem)}>
                        &lt;MaterialIcons name="add" size={25} color="#fff">&lt;/MaterialIcons>
                    &lt;/TouchableOpacity>
                &lt;/View>):(&lt;View>
                    &lt;Entypo name="circle-with-cross"size={28} color="red">&lt;/Entypo>
                &lt;/View>)}

            &lt;/View>
        &lt;/View>

    )
}

export default RenderMenuItems;



// export default function RenderProduct({navigation}){
//     return(
// &lt;View>
// &lt;Text>This is RenderProduct component&lt;/Text>
// &lt;/View>
//     )
// }</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Nov 10 2023 10:13:58 GMT+1100 (Australian Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
